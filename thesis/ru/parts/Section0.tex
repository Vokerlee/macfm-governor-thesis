\section{Введение}
\label{sec:Section0} \index{Section0}

Для улучшения производительности компьютерных систем, а также для уменьшения потребляемой
этими системами энергии, в различных операционных системах используют подсистемы,
ответственные за регулирование частот как центрального процессора (Central Processing Unit -- CPU),
так и прочих компонент.

В операционной системе Linux, представляющую собой монолитное ядро, частоты процессора,
как правило, меняют посредством использования драйвера \textit{cpufreq}, предоставляющий
API для регистрации интерфейса изменения частот произвольного CPU. За частоты прочих компонент
системы отвечает драйвер-API \textit{devfreq} (например, изменение частоты шины, соединяющую
соседние уровни кешей, или изменение частоты работы DDR памяти).

На данный момент Linux использует политики изменения частот процессора (governor policies),
реализация которых не учитывает сложную структуру компьютерной системы, в которой могут
присутствовать компоненты, работающие при частоте, отличной от CPU: кеши высоких уровней
(L3 кеш, системный кеш (system cache)), оперативная память (Random Access Memory -- RAM).

Если же попробовать взять во внимание внепроцессорные компоненты, возникает ряд трудностей:
\begin{enumerate}
    \item Для работы такой политики требуется знать структуру системы, на которой
    запущена операционной система, например, количество уровней кешей и уровни кешей, работающие
    на частоте, отличной от частоты CPU.
    \item Кроме структуры системы, необходимо заранее измерить подробные характеристики
    рассматриваемых компонент системы, например, зависимость задержки памяти (\textit{latency})
    от уровня её утилизации (\textit{bandwidth}).
    \item Даже при готовом алгоритме часть информации, такую как утилизация оперативной памяти
    (\textit{RAM bandwidth}) или какие блоки процессора были использованы за фиксированный
    интервал времени, получить во время работы операционной системы либо затруднительно,
    либо вовсе невозможно.
\end{enumerate}

Архитектура \textit{ARM big.LITTLE} представляет собой концепцию, в которой одновременно
используются различные типы ядерных кластеров: кластеры, состоящие из более энергоэффективных,
но менее производительных ядер, и производительные кластеры, потребляющую большое количество
энергии.

В системах, использующих архитектуру \textit{ARM big.LITTLE}, которая является одной из самых
используемых на данный момент времени, параллельно с задачей выбора частот процессорных ядер
возникает задача выбора ядерного кластера в зависимости от требований и специфики выполняемой
задачи. Обе задачи имеют одинаковую цель: уменьшить потребляемую энергию системы, сохранив
требуемую производительность.

В рамках описываемой работы решается только первая из перечисленных задач: выбор частот
процессорных ядер, однако в любом случае потребуется построение моделей для алгоритма
изменения частот процессорных ядер отдельно для каждого имеющегося кластера.

ARM использует технологию \textit{DVFS} (Dynamic Voltage-Frequency Scaling) для изменения
частот процессорных ядер, а \textit{cpufreq}, в свою очередь, является интерфейсом
для работы ядра операционной системы Linux с этой технологией.

Для исследования выше обозначенных задач удобно использовать симулятор компьютерных
архитектур, например, \textit{Gem5}, который и будет использоваться в данной работе.
\textit{Gem5} позволяет создать систему, подобную системе, построенную на архитектуре
\textit{ARM big.LITTLE}, т.е. гетерогенную (мультикластерную) систему на основе
архитектуры \textit{ARM}/\textit{ARM64}.

На данный момент \textit{Gem5} уже создержит в реализации такие важные компоненты,
как \textit{DVFSHandler} (обработчик \textit{DVFS}) и \textit{EnergyController}
(контроллер энергии), которые предоставляют возможность реализации собственного
\textit{cpufreq} драйвера, а также прочих драйверов для работы \textit{DVFS} технологии
остальных компонент системы. Однако на данный момент отсутвует реализация

\newpage
